{% extends 'base.html.twig' %}

{% block title %}{{ user.username }}{% endblock %}

{% block body %}
    <h2>{{ user.username }}</h2>
    <div class="hero-section">
        {% if app.user == user %}
            <div class="d-flex button-row mb-2">
                <a href="{{ path('account_edit', {'id': app.user.id }) }}" class="button-secondary">{{ icon('edit') }}<span>Editer mon profil</span></a>
                {{ include('user/_delete_form.html.twig') }}
                <a href="{{ path('app_logout') }}" class="button-secondary">{{ icon('logout') }}<span>Se déconnecter</span></a>
            </div>
            <h2>Sujets suivis</h2>
            {% for following in app.user.following %}
                {{ include("topic/_card.html.twig", {'theme': following.target}) }}
            {% else %}
                <div class="flex-centered mt-1">
                    Vous ne suivez actuellement aucun sujet<a href="{{ path('topic_index')}}" class="button-primary ml-05">Explorer les sujets</a>
                </div>
            {% endfor %}
        {% endif %}
    </div>

    <h2 class="mt-2">Sujets créés</h2>
    <div id='app' data-context="user-profile" data-ressource="themes" data-owner={{ user.id }}></div>
{% endblock %}